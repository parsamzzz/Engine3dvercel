<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>THREEDIFY</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    *{box-sizing:border-box;}

    body{font-family:'Segoe UI','Vazirmatn',sans-serif;transition:background .4s ease,color .4s ease;}
    body.dark{background:#0e1014;color:#e5e7eb;}
    body.light{background:#f8f9fa;color:#1f2937;}

    header{backdrop-filter:blur(16px) saturate(150%);
      -webkit-backdrop-filter:blur(16px) saturate(150%);
      background:rgba(20,24,30,.5);
      border-bottom:1px solid rgba(255,255,255,.06);}
    body.light header{background:rgba(255,255,255,.6);border-color:rgba(0,0,0,.06);}

    .divider-r{border-right:1px solid rgba(255,255,255,.06);}
    .divider-l{border-left:1px solid rgba(255,255,255,.06);}
    body.light .divider-r,body.light .divider-l{border-color:rgba(0,0,0,.08);}

    .btn-primary{background:linear-gradient(90deg,#38bdf8,#6366f1);color:#fff;padding:.45rem .9rem;border-radius:6px;font-size:.8rem;}
    .btn-primary:hover{opacity:.9;}

    .input-dark{width:100%;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);
      border-radius:6px;padding:.4rem .6rem;font-size:.8rem;outline:none;}
    .input-dark:focus{border-color:#38bdf8;}
    body.light .input-dark{background:rgba(255,255,255,.85);border-color:rgba(0,0,0,.08);color:#111;}

    .cat-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;width:56px;height:56px;font-size:12px;color:#9ca3af;cursor:pointer;transition:.25s;}
    .cat-btn:hover{background:rgba(255,255,255,.05);color:#38bdf8;}
    .cat-btn.active{background:linear-gradient(180deg,#38bdf8,#6366f1);color:#fff;}

    /* Preview */
    .preview-wrap{position:relative;display:flex;flex-direction:column;padding:1rem;overflow:hidden;background:rgba(255,255,255,.02);}
    body.light .preview-wrap{background:rgba(255,255,255,.5);}
    .preview-icons-bar{padding-bottom:0.75rem;margin-bottom:0.75rem;border-bottom:1px solid rgba(255,255,255,.07);}
    body.light .preview-icons-bar{border-color:rgba(0,0,0,.08);}

    /* Slider */
    .preview-grid{
      display:flex;
      gap:16px;
      overflow-x:auto;
      scroll-behavior:smooth;
      scrollbar-width:none;
      padding:6px 0;
    }
    .preview-grid::-webkit-scrollbar{display:none;}
    .preview-card{
      min-width:160px;
      height:175px;
      border-radius:12px;
      flex-shrink:0;
      padding:14px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition:0.3s;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
    }
    .preview-card:hover{
      background:rgba(255,255,255,.12);
      transform:scale(1.05);
    }
    body.light .preview-card{
      background:#fff;
      border:1px solid rgba(0,0,0,0.1);
      box-shadow:0 2px 4px rgba(0,0,0,0.05);
    }
    body.light .preview-card:hover{background:#f9fafb;}
    .preview-card img{width:70px;height:70px;object-fit:contain;}
    .preview-card span{margin-top:10px;font-size:.9rem;text-align:center;}
    .preview-card.selected{border:2px solid #38bdf8;background:rgba(56,189,248,0.15);transform:scale(1.05);}

    /* Arrows */
    .arrow-btn{position:absolute;top:50%;transform:translateY(-50%);
      width:40px;height:40px;display:flex;align-items:center;justify-content:center;
      background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);
      border-radius:50%;color:#e5e7eb;cursor:pointer;opacity:0.3;transition:0.3s;z-index:20;}
    .arrow-btn:hover{opacity:0.7;background:rgba(56,189,248,0.2);}
    .arrow-left{left:10px;}
    .arrow-right{right:10px;}

    .generate-fixed{position:sticky;bottom:0;left:0;width:100%;
      background:rgba(20,24,30,.7);backdrop-filter:blur(10px);padding:.6rem;
      border-top:1px solid rgba(255,255,255,.08);z-index:10;}
    body.light .generate-fixed{background:rgba(255,255,255,.8);border-color:rgba(0,0,0,.08);}

    .upload-box{display:flex;align-items:center;justify-content:center;height:120px;
      border:2px dashed rgba(255,255,255,0.25);border-radius:10px;background:rgba(255,255,255,.04);
      cursor:pointer;transition:0.3s;font-size:0.85rem;color:#9ca3af;}
    .upload-box:hover{background:rgba(255,255,255,.08);border-color:#38bdf8;color:#38bdf8;}
    .upload-box.dragover{background:rgba(56,189,248,0.1);border-color:#38bdf8;color:#38bdf8;}
    body.light .upload-box{border-color:rgba(0,0,0,0.15);background:rgba(255,255,255,0.85);color:#555;}
    body.light .upload-box:hover{background:rgba(0,0,0,0.05);border-color:#38bdf8;}
    .upload-box input[type="file"]{display:none;}
  </style>
</head>

<body class="dark h-screen overflow-hidden">
<header class="h-12 flex items-center justify-between px-4">
  <div class="flex items-center gap-2">
    <img src="logo/dark.webp" alt="THREEDIFY Logo" class="h-8 w-auto rounded-sm">
    <span class="font-semibold text-sky-400 text-sm">THREEDIFY</span>
  </div>
  <div class="flex items-center gap-4">
    <div class="flex items-center gap-1 text-sm font-medium text-yellow-400">
      <span>ü™ô</span><span id="creditAmount">120</span>
    </div>
    <img src="https://i.pravatar.cc/40" alt="Profile" class="w-8 h-8 rounded-full border border-white/20">
    <button id="themeToggle" class="btn-primary text-xs">Switch Theme</button>
  </div>
</header>

<main class="h-[calc(100vh-48px)] grid grid-cols-[60px_280px_auto_320px]">
  <!-- Sidebar -->
  <aside class="divider-r flex flex-col items-center">
    <div class="cat-btn active" data-cat="image">üñºÔ∏è<span>Image</span></div>
    <div class="cat-btn" data-cat="video">üé•<span>Video</span></div>
    <div class="cat-btn" data-cat="audio">üéôÔ∏è<span>Audio</span></div>
    <div class="cat-btn" data-cat="music">üéµ<span>Music</span></div>
    <div class="cat-btn" data-cat="3d">üßä<span>3D</span></div>
  </aside>

  <!-- Prompt Panel -->
  <aside class="divider-r flex flex-col overflow-y-auto">
    <div id="panelTitle" class="text-sky-400 font-semibold p-4 border-b border-white/10 flex items-center gap-2">
      <img id="selectedModelLogo" src="" alt="" class="h-5 w-5 hidden">
      <span id="selectedModelName"></span>
    </div>
    <div id="panelContent" class="flex-1 space-y-4 p-4 text-sm"></div>
    <div class="generate-fixed flex items-center justify-between gap-3">
      <button id="generateBtn" class="btn-primary flex-1">Generate</button>
      <div class="flex items-center gap-1 text-sm font-medium text-yellow-400">
        <span>ü™ô</span><span id="coinAmount">120</span>
      </div>
    </div>
  </aside>

  <!-- Preview -->
  <section class="divider-l preview-wrap relative">
    <div id="previewIconsBar" class="preview-icons-bar">
      <div id="previewContent" class="preview-grid"></div>
    </div>
    <button class="arrow-btn arrow-left" id="arrowLeft">‚ùÆ</button>
    <button class="arrow-btn arrow-right" id="arrowRight">‚ùØ</button>
    <div class="absolute inset-0 flex flex-col justify-center items-center pointer-events-none gap-2">
      <div class="w-20 h-20 border border-dashed border-gray-400/50 rounded-lg flex items-center justify-center text-3xl opacity-70">üëÅÔ∏è</div>
      <span class="text-gray-400 text-lg font-semibold">PREVIEW</span>
    </div>
  </section>

  <!-- Assets -->
  <aside class="divider-l flex flex-col p-3 overflow-y-auto">
    <div class="flex items-center gap-2 mb-3">
      <input type="text" placeholder="Search‚Ä¶" class="input-dark text-xs flex-1">
      <button class="btn-primary text-xs px-2 py-1">Upload</button>
    </div>
    <div class="space-y-2 text-sm">
      <div class="flex items-center gap-3 bg-black/20 p-2 rounded hover:bg-black/30 cursor-pointer">
        <img src="logo/generated-upscaled (3).png" class="w-14 h-14 rounded object-cover">
        <div>
          <p class="font-medium">Sample Asset</p>
          <p class="text-xs opacity-60">1 asset</p>
        </div>
      </div>
    </div>
  </aside>
</main>

<script>
document.getElementById('themeToggle').addEventListener('click',()=>{
  document.body.classList.toggle('dark');
  document.body.classList.toggle('light');
});

const buttons=document.querySelectorAll('.cat-btn');
const previewContent=document.getElementById('previewContent');
const leftBtn=document.getElementById('arrowLeft');
const rightBtn=document.getElementById('arrowRight');
const logoEl=document.getElementById('selectedModelLogo');
const nameEl=document.getElementById('selectedModelName');

const contents={
  image:`
    <!-- üî• Tabs -->
    <div class="flex gap-2 mb-3">
      <button class="img-tab active px-3 py-1 rounded bg-sky-500 text-white text-xs" data-mode="text2img">Text-to-Image</button>
      <button class="img-tab px-3 py-1 rounded bg-gray-600/40 text-white text-xs" data-mode="img2img">Image-to-Image</button>
    </div>

    <!-- Upload box: hidden by default -->
    <label class="upload-box mb-3 hidden" id="imgUploadBox">
      <span>üì§ Click or Drop Image Here</span>
      <input type="file" accept="image/*" id="imageInput" />
    </label>

    <label class="block text-xs opacity-80 mt-2">Output Format</label>
    <select class="input-dark mb-2">
      <option>png</option>
      <option>jpeg</option>
    </select>

    <label class="block text-xs opacity-80 mt-2">Image Size</label>
    <select class="input-dark mb-2">
      <option>1:1</option><option>9:16</option><option>16:9</option>
      <option>3:4</option><option>4:3</option><option>3:2</option>
      <option>2:3</option><option>5:4</option><option>4:5</option><option>21:9</option><option>auto</option>
    </select>

    <label class="block text-xs opacity-80 mt-2">Prompt</label>
    <textarea rows="4" class="input-dark resize-none" placeholder="Describe image‚Ä¶"></textarea>
  `,
  video:`
    <label class="upload-box" id="dropZone">
      <span>üì§ Click or Drop Video/Image Here</span>
      <input type="file" accept="video/*,image/*" id="videoInput" />
    </label>
    <label class="block text-xs opacity-80 mt-2">Settings</label>
    <select class="input-dark mb-2"><option>Landscape</option><option>Portrait</option></select>
    <label class="block text-xs opacity-80 mt-2">Video Prompt</label>
    <textarea rows="4" class="input-dark resize-none" placeholder="Describe video scene‚Ä¶"></textarea>
  `,
  audio:`
    <label class="upload-box" id="dropZone">
      <span>üì§ Upload Audio</span>
      <input type="file" accept="audio/*" id="audioInput" />
    </label>
    <label class="block text-xs opacity-80 mt-2">Settings</label>
    <select class="input-dark mb-2">
      <option>MP3</option><option>WAV</option>
    </select>
  `,
  music:`
    <label class="upload-box" id="dropZone">
      <span>üì§ Upload Reference Audio</span>
      <input type="file" accept="audio/*" id="musicInput" />
    </label>
    <label class="block text-xs opacity-80 mt-2">Music Style</label>
    <select class="input-dark mb-2">
      <option>Pop</option><option>Jazz</option><option>Classical</option>
    </select>
  `,
  "3d":`
    <label class="upload-box" id="dropZone">
      <span>üì§ Upload Reference Image</span>
      <input type="file" accept="image/*" id="modelInput" />
    </label>
    <label class="block text-xs opacity-80 mt-2">Settings</label>
    <select class="input-dark mb-2">
      <option>OBJ</option><option>GLB</option>
    </select>
    <label class="block text-xs opacity-80 mt-2">3D Model Prompt</label>
    <textarea rows="3" class="input-dark resize-none" placeholder="Describe 3D object‚Ä¶"></textarea>
  `
};

const previewIcons={
  image:[
    {name:"Nano Banana",logo:"./logo/nano-banana.png"},
    {name:"Seedream",logo:"./logo/seedance.png"},
    {name:"4o Image",logo:"./logo/ChatGPT_logo.svg.png"},
    {name:"Flux.1 Kontext",logo:"./logo/flux-kontext.webp"},
    {name:"Midjourney",logo:"./logo/midjourney.png"},
    {name:"Imagen 4",logo:"./logo/imagen4.png"},
    {name:"Ideogram V3",logo:"./logo/Ideogram-Logo.png"},
    {name:"Qwen Image Edit",logo:"./logo/qwen-color.png"}
  ],
  video:[
    {name:"Sora 2",logo:"./logo/ChatGPT_logo.svg.png"},
    {name:"Veo 3",logo:"./logo/Google.webp"},
    {name:"Runway",logo:"./logo/runway_app.png"},
    {name:"Seedance",logo:"./logo/seedance.png"},
    {name:"Kling",logo:"./logo/kling-color.png"},
    {name:"Wan 2.2",logo:"./logo/qwen-color.png"},
    {name:"Luma",logo:"./logo/luma-color.png"}
  ],
  music:[
    {name:"MusicGPT",logo:"./logo/musicgpt.png"},
    {name:"Suno",logo:"./logo/suno.png"}
  ],
  "3d":[
    {name:"Meshy",logo:"./logo/meshy.png"},
    {name:"Luma 3D",logo:"./logo/luma-color.png"}
  ]
};

let scrollX=0,direction=1,sliderTimer=null,selectedCard=null;
const slider=previewContent,step=180,interval=2000;

function autoSlide(){
  if(direction===1){
    if(scrollX+slider.clientWidth>=slider.scrollWidth){direction=-1;}
    else{scrollX+=step;}
  }else{
    if(scrollX<=0){direction=1;}
    else{scrollX-=step;}
  }
  slider.scrollTo({left:scrollX,behavior:'smooth'});
}
function startSlider(){if(selectedCard) return;clearInterval(sliderTimer);sliderTimer=setInterval(autoSlide,interval);}
function stopSlider(){clearInterval(sliderTimer);sliderTimer=null;}

function renderPreview(cat){
  previewContent.innerHTML="";
  previewIcons[cat].forEach(item=>{
    const card=document.createElement('div');
    card.className="preview-card";
    card.innerHTML=`<img src="${item.logo}" alt="${item.name}"><span>${item.name}</span>`;
    card.addEventListener('click',()=>{
      document.querySelectorAll('.preview-card').forEach(c=>c.classList.remove('selected'));
      card.classList.add('selected');
      selectedCard=card;
      logoEl.src=item.logo;
      logoEl.classList.remove('hidden');
      nameEl.textContent=item.name;
      stopSlider();
    });
    previewContent.appendChild(card);
  });
  initDragAndDrop();
  selectedCard=null;
  startSlider();
}

function setCategory(cat){
  buttons.forEach(b=>b.classList.remove('active'));
  document.querySelector(`[data-cat="${cat}"]`).classList.add('active');
  logoEl.classList.add('hidden');
  nameEl.textContent="";
  document.getElementById('panelContent').innerHTML=contents[cat];
  renderPreview(cat);
  if(cat==='image') initImageTabs();
}

buttons.forEach(btn=>btn.addEventListener('click',()=>setCategory(btn.dataset.cat)));
setCategory('image');

// Drag & Drop
function initDragAndDrop(){
  const dropZone=document.getElementById('dropZone') || document.getElementById('imgUploadBox');
  const fileInput=dropZone?dropZone.querySelector('input[type="file"]'):null;
  if(!dropZone) return;
  dropZone.addEventListener('click',()=>fileInput.click());
  dropZone.addEventListener('dragover',e=>{e.preventDefault();dropZone.classList.add('dragover');});
  dropZone.addEventListener('dragleave',()=>dropZone.classList.remove('dragover'));
  dropZone.addEventListener('drop',e=>{
    e.preventDefault();dropZone.classList.remove('dragover');
    const file=e.dataTransfer.files[0];
    if(file){fileInput.files=e.dataTransfer.files;alert("File Selected: "+file.name);}
  });
  fileInput.addEventListener('change',()=>{if(fileInput.files[0])alert("File Selected: "+fileInput.files[0].name);});
}

// üî• ÿ™ÿßÿ®ÿπ ÿ≥Ÿà€å€å⁄Ü ÿ™ÿ®‚ÄåŸáÿß€å text2img / img2img
function initImageTabs(){
  const tabs=document.querySelectorAll('.img-tab');
  const uploadBox=document.getElementById('imgUploadBox');
  tabs.forEach(t=>{
    t.addEventListener('click',()=>{
      tabs.forEach(x=>x.classList.remove('active','bg-sky-500'));
      t.classList.add('active','bg-sky-500');
      if(t.dataset.mode==="text2img"){
        uploadBox.classList.add('hidden');
      }else{
        uploadBox.classList.remove('hidden');
      }
    });
  });
}

slider.addEventListener('mouseenter',()=>startSlider());
slider.addEventListener('mouseleave',()=>startSlider());

leftBtn.addEventListener('click',()=>slider.scrollBy({left:-step,behavior:'smooth'}));
rightBtn.addEventListener('click',()=>slider.scrollBy({left:step,behavior:'smooth'}));
</script>
</body>
</html>
